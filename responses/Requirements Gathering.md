1. I believe YAML is the right choice. We should use programatic syntax to reduce ambiguity wherever possible. Look to see if tehre is already any similar convention for handling meta data. The rules need to reference the documentation, and the documentation needs to reference the rules, if there is not a self referencing pair, that is a sign of an orphan rule that needs to be addressed.
2. Lets make a master import file. That way we can leave the rest fo CLAUDE.md open for easy prose additions. Lets make the import hierachy as shallow as possible. We can easily refactor if it gets too confusing since we aren't actually building an API or direct code. And having user preferences affect which rules are imported sounds like a very effective way of implementing that functionality.
3. Yes i think it should still mirror the exact structure of rules. Based on my answer for 1 i think you have the answer for the other questions. If not check again.
4. For now i want to maintain the strict boundary between different rules, and making reference easy. Before we implement this change though, create a rough baseline on the conversation so far and put the results as a file in a new benchmarks folder. Add create robust benchmarks to the task list.
5. In this instance we don't have to worry about that since we have no users, but keep that in mind for the future. Techinically i would consider this project as still being in alpha, but for now let's just call it version 1.1.2
6. I don't actually know how you would build a testing script for that. Perhaps you would generate a prompt to ask your self to see if you imported the memory from the rules. If you can't figure it out add it to the tasks list. Add detailed rules testing senarios to the task list.